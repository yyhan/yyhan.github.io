

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <meta name="description" content="JUST DO IT">
    <title>
        hadoop集群搭建 | YFHan的博客
    </title>
    <link rel="shortcut icon" href="/favicon.jpg"/>
    

    
    
    
    <!-- stylesheets list from config.yml -->
        
            <link rel="stylesheet" href="/css/aloha.css">
        
            <link rel="stylesheet" href="//cdn.bootcss.com/semantic-ui/2.2.4/semantic.min.css">
        
    

</head>

<body id="body" style="margin-bottom: 0;" class="pushable">

    <div class="ui top fixed menu">
        <a class="item" id="menu-icon"><i class="sidebar icon"></i></a>

        
        

        

        
        <a href="/index.html" class="item" >
            <i class="home icon"></i>
            首页
        </a>

        
        

        

        
        <a href="/archives/" class="item" >
            <i class="archive icon"></i>
            归档
        </a>

        
        

        

        
        <a href="/atom.xml" class="item" >
            <i class="rss icon"></i>
            RSS
        </a>

        
        

        

        
        <a href="/about" class="item" >
            <i class="mail icon"></i>
            关于
        </a>

        
        

        

        
        <a href="https://github.com/yyhan" class="item" >
            <i class="github icon"></i>
            github
        </a>

        
        <!--<a class="item" href=""><i class="github icon"></i></a>-->
    </div>

    <div id="menu-sidebar" class="ui left vertical sidebar menu">

    <div id="sidebar-top">
        <div class="content">
            <h3>YFHan的博客</h3>
        </div>
    </div>
    <div class="ui container sidebar-card">
    <div class="ui people shape content">
        <div class="active side">
            <div class="ui card">
                <div class="image">
                    <img class="ui medium bordered image" src="/favicon_400x400.jpg">
                </div>
                <div class="content">
                    <a class="header">
                        YFHan
                    </a>
                    
                        <div class="meta">
                            Programer / Dotaor
                        </div>
                        
                </div>
                <div class="extra content">
                    <div class="ui list">
                        
                            <div class="item">
                                <i class="marker icon" style="float: left"></i>
                                <div class="content">
                                    杭州
                                </div>
                            </div>
                            
                                
                    </div>

                </div>
                <div class="extra content">
                    <div class="ui list">
                        

                            <a href="https://github.com/yyhan"><i class="large github icon" style="float: left"></i></a>

                            
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>

    
    

    

    
    <a href="/index.html" class="item" >
        <i class="home icon"></i>
        首页
    </a>

    
    

    

    
    <a href="/archives/" class="item" >
        <i class="archive icon"></i>
        归档
    </a>

    
    

    

    
    <a href="/atom.xml" class="item" >
        <i class="rss icon"></i>
        RSS
    </a>

    
    

    

    
    <a href="/about" class="item" >
        <i class="mail icon"></i>
        关于
    </a>

    
    

    

    
    <a href="https://github.com/yyhan" class="item" >
        <i class="github icon"></i>
        github
    </a>

    

    
</div>

        <div class="pusher body-content">
            <div id="content" class="ui main container">
                <div id="post-hadoop集群搭建" class="ui main container article-type-post">

    

    <div class="ui divided grid">

        <div class="two column row" id="article-content">

            <div class="thirteen wide computer thirteen wide tablet sixteen wide mobile column">
                

<h1 class="ui header">
    
    hadoop集群搭建
</h1>



                <div class="article-inner">

                    <div class="article-entry" itemprop="articleBody">
                        
                        <h1 id="&#x7CFB;&#x7EDF;&#x53CA;&#x8F6F;&#x4EF6;&#x7248;&#x672C;"><a href="#&#x7CFB;&#x7EDF;&#x53CA;&#x8F6F;&#x4EF6;&#x7248;&#x672C;" class="headerlink" title="&#x7CFB;&#x7EDF;&#x53CA;&#x8F6F;&#x4EF6;&#x7248;&#x672C;"></a>&#x7CFB;&#x7EDF;&#x53CA;&#x8F6F;&#x4EF6;&#x7248;&#x672C;</h1><ul class="ui list">
<li>ubuntu server 16.10</li>
<li>jdk 1.8.0_111</li>
<li>hadoop 2.7.3</li>
</ul>
<h1 id="&#x96C6;&#x7FA4;&#x914D;&#x7F6E;"><a href="#&#x96C6;&#x7FA4;&#x914D;&#x7F6E;" class="headerlink" title="&#x96C6;&#x7FA4;&#x914D;&#x7F6E;"></a>&#x96C6;&#x7FA4;&#x914D;&#x7F6E;</h1><h2 id="IP&#x53CA;&#x57DF;&#x540D;&#x5206;&#x914D;"><a href="#IP&#x53CA;&#x57DF;&#x540D;&#x5206;&#x914D;" class="headerlink" title="IP&#x53CA;&#x57DF;&#x540D;&#x5206;&#x914D;"></a>IP&#x53CA;&#x57DF;&#x540D;&#x5206;&#x914D;</h2><table>
<thead>
<tr>
<th>&#x4E3B;&#x673A;&#x540D;</th>
<th>ip</th>
</tr>
</thead>
<tbody>
<tr>
<td>master</td>
<td>192.168.2.100</td>
</tr>
<tr>
<td>slave1</td>
<td>192.168.2.101</td>
</tr>
<tr>
<td>slave2</td>
<td>192.168.2.102</td>
</tr>
</tbody>
</table>
<p>&#x96C6;&#x7FA4;&#x642D;&#x5EFA;&#x5728;VM&#x865A;&#x62DF;&#x673A;&#x4E0A;&#xFF0C;&#x5404;&#x865A;&#x62DF;&#x673A;&#x91C7;&#x7528;nat&#x65B9;&#x5F0F;&#x8FDE;&#x63A5;&#xFF0C;&#x5B50;&#x7F51;ip&#xFF1A;<code>192.168.2.0</code>&#xFF0C;&#x4E3B;&#x673A;&#x540D;&#x914D;&#x7F6E;&#x5728;&#x5404;&#x865A;&#x62DF;&#x673A;host&#x6587;&#x4EF6;&#x4E2D;&#x3002;&#xFF08;&#x63D0;&#x793A;&#xFF1A;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x914D;&#x7F6E;&#x597D;&#x540E;&#xFF0C;&#x590D;&#x5236;&#x4E09;&#x4EFD;&#x5373;&#x53EF;&#xFF09;<br>&#x4F7F;&#x7528;&#x865A;&#x62DF;&#x673A;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6CE8;&#x610F;&#x8981;&#x5C06;&#x865A;&#x62DF;&#x673A;&#x6539;&#x4E3A;&#x9759;&#x6001;ip&#xFF0C;&#x907F;&#x514D;&#x91CD;&#x542F;&#x540E;ip&#x6539;&#x53D8;&#xFF0C;&#x5BFC;&#x81F4;host&#x914D;&#x7F6E;&#x5931;&#x6548;&#x3002;</p>
<h2 id="&#x7528;&#x6237;"><a href="#&#x7528;&#x6237;" class="headerlink" title="&#x7528;&#x6237;"></a>&#x7528;&#x6237;</h2><p>&#x5355;&#x72EC;&#x5EFA;&#x7ACB;hadoop&#x7528;&#x6237;&#xFF0C;&#x7528;&#x4E8E;&#x8FD0;&#x884C;hadoop&#x8FDB;&#x7A0B;</p>
<h2 id="&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;"><a href="#&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;" class="headerlink" title="&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;"></a>&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;</h2><h3 id="jdk-&#x548C;-Hadoop&#x5B89;&#x88C5;"><a href="#jdk-&#x548C;-Hadoop&#x5B89;&#x88C5;" class="headerlink" title="jdk &#x548C; Hadoop&#x5B89;&#x88C5;"></a>jdk &#x548C; Hadoop&#x5B89;&#x88C5;</h3><p>jdk&#x5B89;&#x88C5;&#x8DEF;&#x5F84;&#xFF1A;<code>/usr/bin/java/jdk1.8.0_111</code><br>Hadoop&#x5B89;&#x88C5;&#x8DEF;&#x5F84;&#xFF1A;<code>/home/hadoop/hadoop/hadoop-2.7.3</code>(hadoop&#x7528;&#x6237;&#x7684;&#x4E3B;&#x76EE;&#x5F55;&#x5373;&#x53EF;)<br>&#x5728;<code>/etc/profile</code>&#x6587;&#x4EF6;&#x4E2D;&#x8FFD;&#x52A0;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> JAVA_HOME=/usr/bin/java/jdk1.8.0_111</div><div class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$JAVA_HOME</span>/jre</div><div class="line"><span class="built_in">export</span> HADOOP_HOME=/home/hadoop/hadoop/hadoop-2.7.3</div><div class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$JRE_HOME</span>/bin:<span class="variable">$HADOOP_HOME</span>/bin</div></pre></td></tr></table></figure></p>
<h2 id="Hadoop&#x914D;&#x7F6E;"><a href="#Hadoop&#x914D;&#x7F6E;" class="headerlink" title="Hadoop&#x914D;&#x7F6E;"></a>Hadoop&#x914D;&#x7F6E;</h2><p>Hadoop&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x90FD;&#x5728;<code>$HADOOP_HOME/etc/hadoop</code> &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4EE5;&#x4E0B;&#x64CD;&#x4F5C;&#x5747;&#x5728;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x6267;&#x884C;&#x3002;  </p>
<h3 id="hadoop-env-sh"><a href="#hadoop-env-sh" class="headerlink" title="hadoop-env.sh"></a>hadoop-env.sh</h3><p>&#x627E;&#x5230;&#x8BE5;&#x6587;&#x4EF6;&#x91CC;&#x7684;JAVA_HOME&#x914D;&#x7F6E;&#x9879;&#xFF0C;&#x5E76;&#x6307;&#x5B9A;jdk&#x7684;<code>&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;</code>&#xFF08;&#x5FC5;&#x987B;&#x662F;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#xFF09;:<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> JAVA_HOME=/usr/bin/java/jdk1.8.0_111</div></pre></td></tr></table></figure></p>
<h3 id="core-site-xml"><a href="#core-site-xml" class="headerlink" title="core-site.xml"></a>core-site.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.tmp.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>file:/home/hadoop/hadoop/tmp<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>fs.defaultFS<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>hdfs://master:9000<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="hdfs-site-xml"><a href="#hdfs-site-xml" class="headerlink" title="hdfs-site.xml"></a>hdfs-site.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.namenode.http-address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>master:50070<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.namenode.secondary.http-address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>slave1:50070<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.replication<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>2<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.namenode.name.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>file:/home/hadoop/hadoop/tmp/dfs/name<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.namenode.data.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>file:/home/hadoop/hadoop/tmp/dfs/data<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.permissions.enabled<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="mapred-site-xml"><a href="#mapred-site-xml" class="headerlink" title="mapred-site.xml"></a>mapred-site.xml</h3><p>&#x8BE5;&#x6587;&#x4EF6;&#x5728;&#x539F;&#x59CB;&#x538B;&#x7F29;&#x6587;&#x4EF6;&#x91CC;&#x6CA1;&#x6709;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>mv mapred-site.xml.template mapred-site.xml</code>&#x521B;&#x5EFA;&#x3002;<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">       <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.framework.name<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>yarn<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">       <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.jobhistory.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>master:10020<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">       <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.jobhistory.webapp.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>master:19888<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="yarn-site-xml"><a href="#yarn-site-xml" class="headerlink" title="yarn-site.xml"></a>yarn-site.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.hostname<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>master<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.aux-service<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>mapreduce_shuffle<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.aux-service.mapreduce.shuffle.class<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>org.apache.hadoop.mapred.ShuffleHandler<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="masters"><a href="#masters" class="headerlink" title="masters"></a>masters</h3><p>&#x8BE5;&#x6587;&#x4EF6;&#x7528;&#x4E8E;&#x914D;&#x7F6E;&#x4E3B;&#x8282;&#x70B9;&#x4FE1;&#x606F;&#xFF0C;&#x6BCF;&#x884C;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#x3002;&#x8BE5;&#x6587;&#x4EF6;&#x5728;&#x539F;&#x59CB;&#x538B;&#x7F29;&#x6587;&#x4EF6;&#x91CC;&#x6CA1;&#x6709;&#xFF0C;&#x9700;&#x8981;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x3002;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">slave1</div></pre></td></tr></table></figure></p>
<h3 id="slaves"><a href="#slaves" class="headerlink" title="slaves"></a>slaves</h3><p>&#x8BE5;&#x6587;&#x4EF6;&#x7528;&#x4E8E;&#x914D;&#x7F6E;&#x4ECE;&#x8282;&#x70B9;&#x4FE1;&#x606F;&#xFF0C;&#x6BCF;&#x884C;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#x3002;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">slave1</div><div class="line">slave2</div></pre></td></tr></table></figure></p>
<blockquote>
<p>&#x4EE5;&#x4E0A;&#x914D;&#x7F6E;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5C06;&#x865A;&#x62DF;&#x673A;&#x590D;&#x5236;&#x4E24;&#x4EFD;&#xFF0C;&#x5E76;&#x5C06;ip&#xFF0C;&#x5206;&#x522B;&#x6307;&#x5B9A;&#x4E3A;<code>192.168.2.101</code>&#x548C;<code>192.168.2.102</code>&#x3002;</p>
</blockquote>
<h2 id="ssh&#x914D;&#x7F6E;"><a href="#ssh&#x914D;&#x7F6E;" class="headerlink" title="ssh&#x914D;&#x7F6E;"></a>ssh&#x914D;&#x7F6E;</h2><p>&#x751F;&#x6210;ssh&#x5BC6;&#x94A5;&#xFF0C;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF0C;&#x4E00;&#x8DEF;&#x56DE;&#x8F66;&#x5373;&#x53EF;&#x3002;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -t rsa</div></pre></td></tr></table></figure></p>
<p>&#x5C06;&#x516C;&#x94A5;&#x62F7;&#x8D1D;&#x5230;&#x5176;&#x5B83;&#x673A;&#x5668;&#x4E0A;&#xFF0C;&#x5B9E;&#x73B0;&#x514D;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ssh-copy-id master</div><div class="line">ssh-copy-id slave1</div><div class="line">ssh-copy-id slave2</div></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x6837;&#x4F1A;&#x5728;&#x6BCF;&#x53F0;&#x673A;&#x5668;&#x7684;hadoop&#x7528;&#x6237;&#x4E3B;&#x76EE;&#x5F55;&#x4E0B;&#x7684;.ssh&#x76EE;&#x5F55;&#x4E0B;&#x751F;&#x6210;&#x4E00;&#x4E2A;authorized_keys&#x6587;&#x4EF6;&#xFF0C;&#x8BE5;&#x6587;&#x4EF6;&#x5C31;&#x8BB0;&#x5F55;&#x4E86;&#x521A;&#x624D;&#x751F;&#x6210;&#x7684;&#x516C;&#x94A5;&#x5185;&#x5BB9;&#x3002;</p>
<h1 id="&#x542F;&#x52A8;"><a href="#&#x542F;&#x52A8;" class="headerlink" title="&#x542F;&#x52A8;"></a>&#x542F;&#x52A8;</h1><p>&#x4F7F;&#x7528;hadoop&#x7528;&#x6237;&#x767B;&#x5F55;&#x3002;<br>&#x7B2C;&#x4E00;&#x6B21;&#x542F;&#x52A8;&#x9700;&#x8981;&#x683C;&#x5F0F;&#x5316;&#xFF0C;&#x5728;<code>$HADOOP_HOME</code>&#x76EE;&#x5F55;&#x4E0B;&#x6267;&#x884C;:<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./bin/hdfs namenode -format</div></pre></td></tr></table></figure></p>
<p>&#x542F;&#x52A8;hdfs&#xFF1A;<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./sbin/start-dfs.sh</div></pre></td></tr></table></figure></p>
<p>&#x542F;&#x52A8;hdfs&#x547D;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x663E;&#x793A;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Starting namenodes on [master]</div><div class="line">master: starting namenode, logging to /home/hadoop/hadoop/hadoop-2.7.3/logs/hadoop-hadoop-namenode-ubuntu.out</div><div class="line">slave1: starting datanode, logging to /home/hadoop/hadoop/hadoop-2.7.3/logs/hadoop-hadoop-datanode-ubuntu.out</div><div class="line">slave2: starting datanode, logging to /home/hadoop/hadoop/hadoop-2.7.3/logs/hadoop-hadoop-datanode-ubuntu.out</div><div class="line">Starting secondary namenodes [slave1]</div><div class="line">slave1: starting secondarynamenode, logging to /home/hadoop/hadoop/hadoop-2.7.3/logs/hadoop-hadoop-secondarynamenode-ubuntu.out</div></pre></td></tr></table></figure></p>
<p>&#x542F;&#x52A8;yarn&#xFF1A;<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./sbin/start-yarn.sh</div></pre></td></tr></table></figure></p>
<p>&#x542F;&#x52A8;yarn&#x547D;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x663E;&#x793A;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">starting yarn daemons</div><div class="line">starting resourcemanager, logging to /home/hadoop/hadoop/hadoop-2.7.3/logs/yarn-hadoop-resourcemanager-ubuntu.out</div><div class="line">slave1: starting nodemanager, logging to /home/hadoop/hadoop/hadoop-2.7.3/logs/yarn-hadoop-nodemanager-ubuntu.out</div><div class="line">slave2: starting nodemanager, logging to /home/hadoop/hadoop/hadoop-2.7.3/logs/yarn-hadoop-nodemanager-ubuntu.out</div></pre></td></tr></table></figure></p>
<p>&#x4F7F;&#x7528;<code>jps</code>&#x547D;&#x4EE4;&#x67E5;&#x770B;&#x8FDB;&#x7A0B;&#x662F;&#x5426;&#x542F;&#x52A8;&#xFF0C;&#x663E;&#x793A;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#x8868;&#x793A;&#x542F;&#x52A8;&#x6210;&#x529F;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">1257 NameNode</div><div class="line">1530 ResourceManager</div><div class="line">1787 Jps</div></pre></td></tr></table></figure></p>
<p>&#x901A;&#x8FC7;&#x6D4F;&#x89C8;&#x5668;&#x67E5;&#x770B;hdfs&#xFF1A;<code>192.168.2.100:50070</code><br><a class="magnific-img" href="/img/hadoop/hadoop-hdfs.png"><img src="/img/hadoop/hadoop-hdfs.png" alt="Image of Yaktocat" class="ui centered image"></a></p>
<p>&#x901A;&#x8FC7;&#x6D4F;&#x89C8;&#x5668;&#x67E5;&#x770B;yarn&#xFF1A;<code>192.168.2.100:8088</code><br><a class="magnific-img" href="/img/hadoop/hadoop-yarn.png"><img src="/img/hadoop/hadoop-yarn.png" alt="Image of Yaktocat" class="ui centered image"></a></p>
<p>&#x7ED3;&#x675F;&#x3002;</p>

                        
                    </div>

                    
                    
                    

                    <div class="description post-description">
    <span class="post-description-item">
        <time datetime="2016-12-22T03:29:20.000Z" itemprop="datePublished">2016-12-22</time>

    </span>
    <span class="post-description-item">
        

    <span>
        <i class="tags icon"></i>
    </span>

    
    <span class="ui tiny label">
        <a href="/tags/hadoop/">hadoop</a>
    </span>

    

    </span>
</div>

                </div>
                
                <div id="pagination" class="nav-web ui text container pagination">

    <div class="ui stackable two column divided grid container">
        <div class="row">
            <div class="column nav-left">
                

                <a href="/2016/12/25/tomcat-setenv脚本/" class="ui tiny button">

                    <i class="angle left icon"></i>
                    
                    tomcat setenv脚本
                    

                </a>

                
            </div>
            <div class="column nav-right">
                

                <a href="/2016/12/12/HttpClient库使用示例/" class="ui tiny button">
                    
                    HttpClient库使用示例
                    
                    <i class="angle right icon"></i></a>
                
            </div>
        </div>
    </div>

</div>
                
            </div>

            
            <div class="three wide computer three wide tablet column">

                <div class="ui sticky article-toc" id="article-toc">
                    <!-- toc -->
                    <ol class="ui ordered list"><li><a href="#系统及软件版本"><span>系统及软件版本</span></a></li><li><a href="#集群配置"><span>集群配置</span></a><ol><li><a href="#IP及域名分配"><span>IP及域名分配</span></a></li><li><a href="#用户"><span>用户</span></a></li><li><a href="#软件安装"><span>软件安装</span></a><ol><li><a href="#jdk-和-Hadoop安装"><span>jdk 和 Hadoop安装</span></a></li></ol></li><li><a href="#Hadoop配置"><span>Hadoop配置</span></a><ol><li><a href="#hadoop-env-sh"><span>hadoop-env.sh</span></a></li><li><a href="#core-site-xml"><span>core-site.xml</span></a></li><li><a href="#hdfs-site-xml"><span>hdfs-site.xml</span></a></li><li><a href="#mapred-site-xml"><span>mapred-site.xml</span></a></li><li><a href="#yarn-site-xml"><span>yarn-site.xml</span></a></li><li><a href="#masters"><span>masters</span></a></li><li><a href="#slaves"><span>slaves</span></a></li></ol></li><li><a href="#ssh配置"><span>ssh配置</span></a></li></ol></li><li><a href="#启动"><span>启动</span></a></li></ol>
                </div>

            </div>
            

        </div>
    </div>
</div>


            </div>
            <div class="ui vertical footer segment">
    <div class="ui center aligned container">
        <div class="ui inverted section divider"></div>
        &copy; 2017 <a href="/">YFHan</a>,
        Powered by <a href="https://github.com/henryhuang/hexo-theme-aloha" target="_blank">Aloha</a> and <a
                href="http://hexo.io/" target="_blank">Hexo</a>.
    </div>
</div>

        </div>

    
        
            <script src="//cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>
        
            <script src="//cdn.bootcss.com/semantic-ui/2.2.4/semantic.min.js"></script>
        
            <script src="/js/aloha-events.js"></script>
        
    

</body>
</html>
